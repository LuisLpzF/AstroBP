---
import Layout from "../layouts/Layout.astro";
import Carousel from "../components/Carousel.astro";
import ImageCarousel from "../components/ImageCarousel.astro";

const carouselImages = [
  {
    src: "https://www.cislab.com.mx/web/image/114560-e9948db1/posts%202023%20%2817%29.jpg",
    alt: "Tubos de ensayo",
    title: "Tubos de ensayo",
    description: "Equipamiento de alta calidad para laboratorios"
  },
  {
    src: "https://kalstein.com.pe/wp-content/uploads/2021/11/microscope-in-laboratory-2021-09-24-04-01-28-utc-1-scaled-1280x855.jpg",
    alt: "Microscopio",
    title: "Microscopios",
    description: "Equipos de precisión para análisis detallados"
  },
  {
    src: "https://www.tplaboratorioquimico.com/wp-content/uploads/2023/11/materiales-e-instrumentos-laboratorio-quimico.jpg",
    alt: "Equipamiento de laboratorio",
    title: "Equipamiento especializado",
    description: "Soluciones completas para su laboratorio"
  }
];

const serviceCategories = [
  {
    title: "Material, Reactivo y Equipo de Laboratorio",
    icon: "flask",
    description: "Ofrecemos una amplia gama de materiales, reactivos y equipos para todo tipo de laboratorios.",
    downloads: [
      { name: "ANA 12 LINE INSERTO", fileUrl: "/downloads/ANA 12 LINE INSERTO.pdf" },
      { name: "GL FUNGIFAST (inserto) 2025", fileUrl: "/downloads/GL FUNGIFAST (inserto) 2025.pdf"},
      { name: "GL MR2 MYCOFAST REVOLUTION 2 (Inserto) 2025", fileUrl:"/downloads/GL Inserto MR2 110525.pdf" }
    ]
  },
  {
    title: "Material, Reactivo y Equipo Forense",
    icon: "magnifying-glass",
    description: "Soluciones especializadas para laboratorios forenses y de investigación criminal."
  },
  {
    title: "Material de Curación y Equipo Médico",
    icon: "heart-pulse",
    description: "Productos de alta calidad para el cuidado médico y procedimientos sanitarios."
  },
  {
    title: "Primeros Auxilios, Antidoping y Alcoholimetría",
    icon: "first-aid",
    description: "Equipos para emergencias, pruebas de detección y control de sustancias."
  },
  {
    title: "Medicamento de Libre Comercialización",
    icon: "pills",
    description: "Medicamentos disponibles sin receta médica para tratamientos comunes."
  },
  {
    title: "Material y Productos de Limpieza",
    icon: "spray-can",
    description: "Productos especializados para la limpieza y desinfección de laboratorios."
  },
  {
    title: "Mantenimiento Equipos de Laboratorio",
    icon: "wrench",
    description: "Servicios de mantenimiento preventivo y correctivo para equipos de laboratorio."
  }
];
---

<Layout 
  title="Productos y Servicios"
  description="General Lab, empresa con más de 18 años de experiencia, creada para satisfacer necesidades en áreas de laboratorio, distribuidor exclusivo en el sureste de México."
>
  <main class="container mx-auto px-4 py-12 fade-in">
    <h1 class="text-4xl font-bold text-center mb-12 text-blue-700 dark:text-blue-500">Productos y Servicios</h1>
    
    <!-- Carousel de imágenes -->
    <section class="mb-16">
      <Carousel images={carouselImages} />
    </section>
    
    <!-- Categorías de servicios -->
    <section class="mb-16">
      <h2 class="text-3xl font-bold text-center mb-8 text-gray-900 dark:text-white">Nuestras Categorías</h2>
      
      <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
        {serviceCategories.map((category, idx) => (
          <div
            class={`service-card bg-white/90 backdrop-blur-sm rounded-lg shadow-md hover:shadow-lg transition-shadow duration-300 dark:bg-gray-800/90 flex flex-col ${
              category.downloads ? 'p-4 min-h-[250px]' : 'p-3 compact-card'
            } animate-fade-in-up`}
            style={{ animationDelay: `${idx * 80}ms` }}
          >
            <div class="flex items-center mb-3">
              <span class="text-blue-700 dark:text-blue-500 mr-3">
                <i class={`fas fa-${category.icon} text-lg`}></i>
              </span>
              <h3 class="text-lg font-semibold text-gray-900 dark:text-white">
                {category.title}
              </h3>
            </div>
            <p class="text-base text-gray-700 dark:text-gray-300">
              {category.description}
            </p>
            {category.downloads && (
              <div class="mt-auto pt-2 w-full flex flex-col justify-start border-t">
                <details class="cursor-pointer">
                  <summary class="text-base font-medium mb-1 text-blue-600 hover:text-blue-800 dark:text-blue-400 flex items-center">
                    <i class="fas fa-chevron-right text-xs mr-1 transform transition-transform duration-200"></i>
                    Ver reactivos disponibles
                  </summary>
                  <ul class="space-y-1 mt-1 pl-4">
                    {category.downloads.map(item => (
                      <li>
                        <a 
                          href={item.fileUrl} 
                          download
                          class="flex items-center text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300 text-base"
                        >
                          <i class="fas fa-file-download mr-1"></i>
                          {item.name}
                        </a>
                      </li>
                    ))}
                  </ul>
                </details>
              </div>
            )}
          </div>
        ))}
      </div>
    </section>
    
    <!-- Call to action -->
    <div class="text-center mt-12">
      <p class="text-2xl font-bold mb-4 text-gray-900 dark:text-white">Nuestras prestigiadas marcas</p>
      <ImageCarousel />
      <p class="text-lg mb-4 text-gray-700 dark:text-gray-300">¿Interesado en nuestros productos y/o servicios?</p>
      <a href="/Forms" class="inline-block bg-blue-700 hover:bg-blue-800 text-white font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700">
        Contáctanos
      </a>
    </div>
  </main>
</Layout>

<style>
  .fade-in {
    from { opacity: 0; transform: translateY(20px); }  
    @keyframes fadeIn { }    
    animation: fadeIn 1s ease-out;    
    to { opacity: 1; transform: translateY(0); }
  }
  @keyframes fade-in-up {
    0% {
      opacity: 0;
      transform: translateY(20px);
    }
    100% {
      opacity: 1;
      transform: translateY(0);
    }
  }
  .animate-fade-in-up {
    animation: fade-in-up 0.5s ease-out forwards;
  }
  details[open] summary i {
    transform: rotate(90deg);
  }
  
  /* Elimina espacio vertical extra en tarjetas sin descargas */
  .compact-card {
    padding-top: 0.75rem !important;
    padding-bottom: 0.75rem !important;
    height: auto !important;
    min-height: auto !important;
  }
  
  .compact-card h3 {
    margin-bottom: 0.25rem !important;
  }
  
  /* Aumenta el tamaño del texto en todas las tarjetas */
  .service-card p {
    font-size: 1rem !important; /* text-base */
    line-height: 1.5 !important;
  }
  
  .service-card h3 {
    font-size: 1.125rem !important; /* text-lg */
    line-height: 1.75rem !important;
  }
  
  /* Asegura que las tarjetas sin descargas sean más compactas */
  .service-card:not(:has(details)) {
    display: flex;
    flex-direction: column;
    justify-content: flex-start;
    align-items: flex-start;
  }
</style>